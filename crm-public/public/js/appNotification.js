jQuery(document).ready(function(){var t=$("#modal_form");window.notification={apps:0,application:[],url:site_url+"question_stat/app",initiated:0,items:[],init:function(t){this.fetchInfo(),this.popHTML(t)},enable:function(t,i){var a=this;setInterval(function(){a.fetchInfo(),a.popHTML(i)},t)},fetchInfo:function(){var t=this;$.get(this.url,function(i){t.apps!=i.length&&1==t.initiated&&t.showNotif(),t.initiated=1,t.apps=i.length,t.application=i},"json")},showNotif:function(){alert("New Entry has added.")},popHTML:function(t){var i="",a=this;this.application.length>0?$.each(this.application,function(t,n){a.items[n.stat_id]=n.duplicate_ids,i+="<tr><td>"+n.a_fname+" "+n.a_lname+"</td><td>"+n.phone+"</td><td>"+n.app_date+'</td><td><button class="show-duplicate" data-ag_id="'+n.ag_id+'" data-itemid="'+n.stat_id+'">Show Items</button></td></tr>'}):i+='<tr><td colspan="4">No record found!</td></tr>',$(t).find("tbody").html(i)}},$(document).on("click",".show-duplicate",function(){t.find(".modal-body").html("Loading content please wait"),t.modal("show"),t.find(".modal-title").html("Duplicate Notification Report");var i=$(this).data("itemid"),a=$(this).data("ag_id"),n="",o=notification.items[i];n+="<table class='table'><thead><tr><th>Name</th><th>Date</th></tr></thead>",$.each(o,function(t,i){console.log(a),console.log(i.ag_id),a!=i.ag_id&&(n+="<tr><td>"+i.first_name+" "+i.last_name+"</td><td>"+i.date+"</td></tr>")}),n+="</table>",t.find(".modal-body").html(n)})});